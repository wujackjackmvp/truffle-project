<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>16è¿›åˆ¶ç¼–ç /è§£ç å·¥å…·</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          'Microsoft YaHei', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 40px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .container {
        max-width: 900px;
        width: 100%;
      }

      h1 {
        text-align: center;
        color: white;
        font-size: 2.5rem;
        margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .subtitle {
        text-align: center;
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.1rem;
        margin-bottom: 40px;
      }

      .tool-container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .section {
        margin-bottom: 40px;
      }

      .section:last-child {
        margin-bottom: 0;
      }

      .section-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #667eea;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section-title::before {
        content: '';
        width: 8px;
        height: 8px;
        background: #667eea;
        border-radius: 50%;
      }

      .input-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        font-weight: 500;
        color: #555;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }

      textarea {
        width: 100%;
        min-height: 120px;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 0.95rem;
        font-family: 'Courier New', monospace;
        resize: vertical;
        transition: all 0.3s ease;
      }

      textarea:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .button-group {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
      }

      button {
        flex: 1;
        min-width: 120px;
        padding: 12px 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
      }

      button:active {
        transform: translateY(0);
      }

      button.secondary {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
      }

      button.secondary:hover {
        box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
      }

      button.clear {
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        color: #333;
        box-shadow: 0 4px 15px rgba(168, 237, 234, 0.4);
      }

      button.clear:hover {
        box-shadow: 0 6px 20px rgba(168, 237, 234, 0.6);
      }

      .output-box {
        background: #f8f9fa;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 15px;
        min-height: 120px;
        font-family: 'Courier New', monospace;
        font-size: 0.95rem;
        color: #333;
        word-break: break-all;
        position: relative;
        margin-bottom: 15px;
      }

      .output-box.empty {
        color: #999;
        font-style: italic;
      }

      .copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        padding: 6px 12px;
        background: white;
        border: 1px solid #667eea;
        color: #667eea;
        border-radius: 6px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .copy-btn:hover {
        background: #667eea;
        color: white;
      }

      .info-box {
        background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }

      .info-box h3 {
        color: #333;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .info-list {
        list-style: none;
      }

      .info-list li {
        color: #555;
        padding: 8px 0;
        padding-left: 25px;
        position: relative;
        line-height: 1.6;
      }

      .info-list li::before {
        content: 'âœ“';
        position: absolute;
        left: 0;
        color: #667eea;
        font-weight: bold;
      }

      .format-options {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
        flex-wrap: wrap;
      }

      .format-option {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .format-option input[type='radio'] {
        width: 18px;
        height: 18px;
        cursor: pointer;
      }

      .format-option label {
        margin: 0;
        cursor: pointer;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .stat-card {
        background: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .stat-value {
        font-size: 1.5rem;
        font-weight: bold;
        color: #667eea;
      }

      .stat-label {
        font-size: 0.85rem;
        color: #666;
        margin-top: 5px;
      }

      .divider {
        height: 2px;
        background: linear-gradient(90deg, transparent, #667eea, transparent);
        margin: 30px 0;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 1.8rem;
        }

        .tool-container {
          padding: 25px;
        }

        .button-group {
          flex-direction: column;
        }

        button {
          width: 100%;
        }
      }

      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”¢ 16è¿›åˆ¶ç¼–ç /è§£ç å·¥å…·</h1>
      <p class="subtitle">æ”¯æŒæ™®é€šæ–‡æœ¬ä¸16è¿›åˆ¶ä¹‹é—´çš„ç›¸äº’è½¬æ¢</p>

      <div class="tool-container">
        <!-- ç¼–ç éƒ¨åˆ† -->
        <div class="section">
          <div class="section-title">ğŸ“ æ–‡æœ¬è½¬16è¿›åˆ¶ï¼ˆç¼–ç ï¼‰</div>

          <div class="input-group">
            <label for="textInput">è¾“å…¥æ™®é€šæ–‡æœ¬ï¼š</label>
            <textarea
              id="textInput"
              placeholder="åœ¨æ­¤è¾“å…¥è¦ç¼–ç çš„æ–‡æœ¬å†…å®¹...æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€ç‰¹æ®Šå­—ç¬¦ç­‰"
            ></textarea>
          </div>

          <div class="format-options">
            <div class="format-option">
              <input
                type="radio"
                id="formatNoSpace"
                name="encodeFormat"
                value="noSpace"
                checked
              />
              <label for="formatNoSpace">æ— ç©ºæ ¼ (68656c6c6f)</label>
            </div>
            <div class="format-option">
              <input
                type="radio"
                id="formatWithSpace"
                name="encodeFormat"
                value="withSpace"
              />
              <label for="formatWithSpace">å¸¦ç©ºæ ¼ (68 65 6c 6c 6f)</label>
            </div>
            <div class="format-option">
              <input
                type="radio"
                id="formatWith0x"
                name="encodeFormat"
                value="with0x"
              />
              <label for="formatWith0x">å¸¦0xå‰ç¼€ (0x68656c6c6f)</label>
            </div>
          </div>

          <div class="button-group">
            <button onclick="encodeToHex()">ğŸ” è½¬æ¢ä¸º16è¿›åˆ¶</button>
            <button class="clear" onclick="clearEncode()">ğŸ—‘ï¸ æ¸…ç©º</button>
          </div>

          <div class="input-group">
            <label>ç¼–ç ç»“æœï¼š</label>
            <div id="hexOutput" class="output-box empty">
              ç¼–ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
            </div>
            <button
              class="copy-btn"
              onclick="copyToClipboard('hexOutput')"
              style="position: static; width: 100%"
            >
              ğŸ“‹ å¤åˆ¶ç»“æœ
            </button>
          </div>
        </div>

        <div class="divider"></div>

        <!-- è§£ç éƒ¨åˆ† -->
        <div class="section">
          <div class="section-title">ğŸ”“ 16è¿›åˆ¶è½¬æ–‡æœ¬ï¼ˆè§£ç ï¼‰</div>

          <div class="input-group">
            <label for="hexInput">è¾“å…¥16è¿›åˆ¶å­—ç¬¦ä¸²ï¼š</label>
            <textarea
              id="hexInput"
              placeholder="åœ¨æ­¤è¾“å…¥16è¿›åˆ¶å­—ç¬¦ä¸²...æ”¯æŒå¸¦ç©ºæ ¼ã€0xå‰ç¼€ç­‰æ ¼å¼"
            ></textarea>
          </div>

          <div class="button-group">
            <button class="secondary" onclick="decodeFromHex()">
              ğŸ”“ è½¬æ¢ä¸ºæ–‡æœ¬
            </button>
            <button class="clear" onclick="clearDecode()">ğŸ—‘ï¸ æ¸…ç©º</button>
          </div>

          <div class="input-group">
            <label>è§£ç ç»“æœï¼š</label>
            <div id="textOutput" class="output-box empty">
              è§£ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
            </div>
            <button
              class="copy-btn"
              onclick="copyToClipboard('textOutput')"
              style="position: static; width: 100%"
            >
              ğŸ“‹ å¤åˆ¶ç»“æœ
            </button>
          </div>
        </div>

        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <div class="stats">
          <div class="stat-card">
            <div class="stat-value" id="textLength">0</div>
            <div class="stat-label">æ–‡æœ¬å­—ç¬¦æ•°</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="hexLength">0</div>
            <div class="stat-label">16è¿›åˆ¶é•¿åº¦</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="byteLength">0</div>
            <div class="stat-label">å­—èŠ‚æ•°</div>
          </div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="info-box">
          <h3>ğŸ“– ä½¿ç”¨è¯´æ˜</h3>
          <ul class="info-list">
            <li>
              <strong>ç¼–ç ï¼š</strong
              >å°†æ™®é€šæ–‡æœ¬ï¼ˆåŒ…æ‹¬ä¸­æ–‡ã€è‹±æ–‡ã€ç‰¹æ®Šå­—ç¬¦ï¼‰è½¬æ¢ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²
            </li>
            <li><strong>è§£ç ï¼š</strong>å°†16è¿›åˆ¶å­—ç¬¦ä¸²è¿˜åŸä¸ºåŸå§‹æ–‡æœ¬å†…å®¹</li>
            <li>
              <strong>æ ¼å¼æ”¯æŒï¼š</strong>è§£ç æ—¶è‡ªåŠ¨è¯†åˆ«å¹¶å¤„ç† 0x å‰ç¼€å’Œç©ºæ ¼
            </li>
            <li>
              <strong>ç¼–ç æ ¼å¼ï¼š</strong>UTF-8ç¼–ç ï¼Œç¡®ä¿ä¸­æ–‡ç­‰å¤šå­—èŠ‚å­—ç¬¦æ­£ç¡®å¤„ç†
            </li>
            <li>
              <strong>åº”ç”¨åœºæ™¯ï¼š</strong>åŒºå—é“¾æ•°æ®å¤„ç†ã€åŠ å¯†é€šä¿¡ã€æ•°æ®ä¼ è¾“ç­‰
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Toast æç¤º -->
    <div id="toast" class="toast"></div>

    <script>
      // æ–‡æœ¬è½¬16è¿›åˆ¶
      function encodeToHex() {
        const text = document.getElementById('textInput').value;
        if (!text) {
          showToast('è¯·è¾“å…¥è¦ç¼–ç çš„æ–‡æœ¬', 'error');
          return;
        }

        try {
          // ä½¿ç”¨ TextEncoder å°†æ–‡æœ¬è½¬æ¢ä¸º UTF-8 å­—èŠ‚æ•°ç»„
          const encoder = new TextEncoder();
          const bytes = encoder.encode(text);

          // å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²
          let hexString = Array.from(bytes)
            .map((byte) => byte.toString(16).padStart(2, '0'))
            .join('');

          // æ ¹æ®é€‰æ‹©çš„æ ¼å¼å¤„ç†è¾“å‡º
          const format = document.querySelector(
            'input[name="encodeFormat"]:checked'
          ).value;
          if (format === 'withSpace') {
            hexString = hexString.match(/.{1,2}/g).join(' ');
          } else if (format === 'with0x') {
            hexString = '0x' + hexString;
          }

          const outputElement = document.getElementById('hexOutput');
          outputElement.textContent = hexString;
          outputElement.classList.remove('empty');

          updateStats(
            text.length,
            bytes.length,
            hexString.replace(/[\s0x]/g, '').length
          );
          showToast('ç¼–ç æˆåŠŸï¼');
        } catch (error) {
          showToast('ç¼–ç å¤±è´¥ï¼š' + error.message, 'error');
        }
      }

      // 16è¿›åˆ¶è½¬æ–‡æœ¬
      function decodeFromHex() {
        let hexString = document.getElementById('hexInput').value.trim();
        if (!hexString) {
          showToast('è¯·è¾“å…¥è¦è§£ç çš„16è¿›åˆ¶å­—ç¬¦ä¸²', 'error');
          return;
        }

        try {
          // æ¸…ç†è¾“å…¥ï¼šç§»é™¤ 0x å‰ç¼€å’Œç©ºæ ¼
          hexString = hexString.replace(/^0x/i, '').replace(/\s+/g, '');

          // éªŒè¯16è¿›åˆ¶æ ¼å¼
          if (!/^[0-9a-fA-F]*$/.test(hexString)) {
            throw new Error('è¾“å…¥åŒ…å«é16è¿›åˆ¶å­—ç¬¦');
          }

          if (hexString.length % 2 !== 0) {
            throw new Error('16è¿›åˆ¶å­—ç¬¦ä¸²é•¿åº¦å¿…é¡»æ˜¯å¶æ•°');
          }

          // å°†16è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„
          const bytes = new Uint8Array(
            hexString.match(/.{1,2}/g).map((byte) => parseInt(byte, 16))
          );

          // ä½¿ç”¨ TextDecoder å°†å­—èŠ‚æ•°ç»„è§£ç ä¸ºæ–‡æœ¬
          const decoder = new TextDecoder('utf-8');
          const text = decoder.decode(bytes);

          const outputElement = document.getElementById('textOutput');
          outputElement.textContent = text;
          outputElement.classList.remove('empty');

          updateStats(text.length, bytes.length, hexString.length);
          showToast('è§£ç æˆåŠŸï¼');
        } catch (error) {
          showToast('è§£ç å¤±è´¥ï¼š' + error.message, 'error');
        }
      }

      // å¤åˆ¶åˆ°å‰ªè´´æ¿
      function copyToClipboard(elementId) {
        const element = document.getElementById(elementId);
        const text = element.textContent;

        if (element.classList.contains('empty')) {
          showToast('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'error');
          return;
        }

        navigator.clipboard
          .writeText(text)
          .then(() => {
            showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
          })
          .catch((err) => {
            // é™çº§æ–¹æ¡ˆ
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
          });
      }

      // æ¸…ç©ºç¼–ç åŒºåŸŸ
      function clearEncode() {
        document.getElementById('textInput').value = '';
        const outputElement = document.getElementById('hexOutput');
        outputElement.textContent = 'ç¼–ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
        outputElement.classList.add('empty');
        updateStats(0, 0, 0);
      }

      // æ¸…ç©ºè§£ç åŒºåŸŸ
      function clearDecode() {
        document.getElementById('hexInput').value = '';
        const outputElement = document.getElementById('textOutput');
        outputElement.textContent = 'è§£ç ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
        outputElement.classList.add('empty');
        updateStats(0, 0, 0);
      }

      // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
      function updateStats(textLen, byteLen, hexLen) {
        document.getElementById('textLength').textContent = textLen;
        document.getElementById('byteLength').textContent = byteLen;
        document.getElementById('hexLength').textContent = hexLen;
      }

      // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
      function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.style.background = type === 'error' ? '#f44336' : '#4caf50';
        toast.classList.add('show');

        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      }

      // ç›‘å¬è¾“å…¥æ¡†å˜åŒ–ï¼Œå®æ—¶æ›´æ–°å­—ç¬¦ç»Ÿè®¡
      document
        .getElementById('textInput')
        .addEventListener('input', function (e) {
          const text = e.target.value;
          if (text) {
            const encoder = new TextEncoder();
            const bytes = encoder.encode(text);
            updateStats(text.length, bytes.length, bytes.length * 2);
          } else {
            updateStats(0, 0, 0);
          }
        });

      document
        .getElementById('hexInput')
        .addEventListener('input', function (e) {
          const hex = e.target.value.replace(/[^0-9a-fA-F]/g, '');
          if (hex) {
            updateStats(0, hex.length / 2, hex.length);
          } else {
            updateStats(0, 0, 0);
          }
        });

      // é¡µé¢åŠ è½½æ—¶æ·»åŠ ç¤ºä¾‹
      window.addEventListener('load', function () {
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä¸€äº›ç¤ºä¾‹æ•°æ®
      });
    </script>
  </body>
</html>
