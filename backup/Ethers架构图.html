<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ethers.js æ¶æ„å›¾</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          'Microsoft YaHei', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 40px 20px;
        overflow-x: hidden;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        color: white;
        font-size: 2.5rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .subtitle {
        text-align: center;
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.1rem;
        margin-bottom: 40px;
      }

      .architecture-container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .layer {
        margin-bottom: 40px;
      }

      .layer-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #667eea;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .layer-title::before {
        content: '';
        width: 8px;
        height: 8px;
        background: #667eea;
        border-radius: 50%;
      }

      .modules-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }

      .module-card {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        border-radius: 12px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
      }

      .module-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2);
      }

      .module-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        border-color: #667eea;
      }

      .module-card.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .module-card.active .module-title {
        color: white;
      }

      .module-card.active .module-desc {
        color: rgba(255, 255, 255, 0.9);
      }

      .module-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: #667eea;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .module-icon {
        font-size: 1.5rem;
      }

      .module-desc {
        font-size: 0.9rem;
        color: #666;
        line-height: 1.6;
        margin-bottom: 15px;
      }

      .module-features {
        list-style: none;
        font-size: 0.85rem;
        color: #555;
      }

      .module-features li {
        padding: 5px 0;
        padding-left: 20px;
        position: relative;
      }

      .module-features li::before {
        content: 'â†’';
        position: absolute;
        left: 0;
        color: #667eea;
        font-weight: bold;
      }

      .module-card.active .module-features li {
        color: rgba(255, 255, 255, 0.9);
      }

      .module-card.active .module-features li::before {
        color: white;
      }

      .connections {
        margin-top: 40px;
        padding: 30px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border-radius: 12px;
        color: white;
      }

      .connections h3 {
        margin-bottom: 15px;
        font-size: 1.3rem;
      }

      .connection-flow {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
        margin: 20px 0;
      }

      .flow-item {
        background: rgba(255, 255, 255, 0.2);
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 500;
        backdrop-filter: blur(10px);
      }

      .flow-arrow {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .legend {
        margin-top: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 12px;
        border-left: 4px solid #667eea;
      }

      .legend h4 {
        color: #333;
        margin-bottom: 10px;
      }

      .legend-items {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 0.9rem;
        color: #666;
      }

      .legend-icon {
        width: 20px;
        height: 20px;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 1.8rem;
        }

        .modules-grid {
          grid-template-columns: 1fr;
        }

        .connection-flow {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”· Ethers.js å®Œæ•´æ¶æ„å›¾</h1>
      <p class="subtitle">ä¸ä»¥å¤ªåŠåŒºå—é“¾äº¤äº’çš„å®Œæ•´ JavaScript åº“</p>

      <div class="architecture-container">
        <!-- æ ¸å¿ƒå±‚ -->
        <div class="layer">
          <div class="layer-title">æ ¸å¿ƒå±‚ (Core Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸŒ</span>
                Provider
              </div>
              <div class="module-desc">
                è¿æ¥ä»¥å¤ªåŠç½‘ç»œçš„æŠ½è±¡å±‚ï¼Œè´Ÿè´£æ‰€æœ‰ç½‘ç»œé€šä¿¡
              </div>
              <ul class="module-features">
                <li>JsonRpcProvider - è¿æ¥æ ‡å‡† JSON-RPC</li>
                <li>WebSocketProvider - WebSocket è¿æ¥</li>
                <li>AlchemyProvider - Alchemy æœåŠ¡</li>
                <li>InfuraProvider - Infura æœåŠ¡</li>
                <li>FallbackProvider - æ•…éšœè½¬ç§»æ”¯æŒ</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">âœï¸</span>
                Signer
              </div>
              <div class="module-desc">ç­¾åäº¤æ˜“å’Œæ¶ˆæ¯çš„æŠ½è±¡æ¥å£</div>
              <ul class="module-features">
                <li>Wallet - å®Œæ•´çš„é’±åŒ…å®ç°</li>
                <li>JsonRpcSigner - RPC æä¾›çš„ç­¾åå™¨</li>
                <li>VoidSigner - åªè¯»ç­¾åå™¨</li>
                <li>ç­¾åäº¤æ˜“å’Œæ¶ˆæ¯</li>
                <li>åœ°å€ç®¡ç†</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ“„</span>
                Contract
              </div>
              <div class="module-desc">ä¸æ™ºèƒ½åˆçº¦äº¤äº’çš„é«˜çº§æ¥å£</div>
              <ul class="module-features">
                <li>éƒ¨ç½²å’Œè°ƒç”¨åˆçº¦</li>
                <li>äº‹ä»¶ç›‘å¬</li>
                <li>ä¼°ç®— Gas</li>
                <li>ç¼–ç /è§£ç å‡½æ•°è°ƒç”¨</li>
                <li>ContractFactory - éƒ¨ç½²å·¥å‚</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- é’±åŒ…å±‚ -->
        <div class="layer">
          <div class="layer-title">é’±åŒ…å±‚ (Wallet Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ‘›</span>
                Wallet
              </div>
              <div class="module-desc">ç§é’¥ç®¡ç†å’Œäº¤æ˜“ç­¾å</div>
              <ul class="module-features">
                <li>ä»ç§é’¥åˆ›å»ºé’±åŒ…</li>
                <li>ä»åŠ©è®°è¯åˆ›å»º</li>
                <li>åŠ å¯†/è§£å¯† JSON é’±åŒ…</li>
                <li>ç­¾åäº¤æ˜“</li>
                <li>ç­¾åæ¶ˆæ¯</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”</span>
                HDNode
              </div>
              <div class="module-desc">åˆ†å±‚ç¡®å®šæ€§é’±åŒ…æ”¯æŒ</div>
              <ul class="module-features">
                <li>BIP-32 æ ‡å‡†å®ç°</li>
                <li>BIP-39 åŠ©è®°è¯</li>
                <li>BIP-44 è·¯å¾„æ´¾ç”Ÿ</li>
                <li>æ‰©å±•å¯†é’¥ç®¡ç†</li>
                <li>å­å¯†é’¥æ´¾ç”Ÿ</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”‘</span>
                SigningKey
              </div>
              <div class="module-desc">æ¤­åœ†æ›²çº¿ç­¾åå¯†é’¥</div>
              <ul class="module-features">
                <li>ECDSA ç­¾å</li>
                <li>å…¬é’¥æ¢å¤</li>
                <li>å¯†é’¥å¯¹ç”Ÿæˆ</li>
                <li>æ¶ˆæ¯å“ˆå¸Œ</li>
                <li>ç­¾åéªŒè¯</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- å·¥å…·å±‚ -->
        <div class="layer">
          <div class="layer-title">å·¥å…·å±‚ (Utilities Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”¢</span>
                BigNumber
              </div>
              <div class="module-desc">å¤„ç†å¤§æ•´æ•°çš„æ•°å­¦åº“</div>
              <ul class="module-features">
                <li>ä»»æ„ç²¾åº¦æ•´æ•°</li>
                <li>Wei/Ether è½¬æ¢</li>
                <li>æ•°å­¦è¿ç®—</li>
                <li>æ¯”è¾ƒæ“ä½œ</li>
                <li>æ ¼å¼åŒ–æ˜¾ç¤º</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ› ï¸</span>
                Utils
              </div>
              <div class="module-desc">é€šç”¨å·¥å…·å‡½æ•°é›†åˆ</div>
              <ul class="module-features">
                <li>åœ°å€æ ¡éªŒå’Œç¼–ç </li>
                <li>å­—èŠ‚æ•°ç»„æ“ä½œ</li>
                <li>å“ˆå¸Œå‡½æ•° (keccak256)</li>
                <li>UTF-8 ç¼–ç </li>
                <li>éšæœºæ•°ç”Ÿæˆ</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ“¦</span>
                ABI
              </div>
              <div class="module-desc">åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ç¼–è§£ç </div>
              <ul class="module-features">
                <li>Interface - ABI è§£æ</li>
                <li>AbiCoder - ç¼–ç å™¨</li>
                <li>ParamType - å‚æ•°ç±»å‹</li>
                <li>Fragment - ABI ç‰‡æ®µ</li>
                <li>å‡½æ•°é€‰æ‹©å™¨</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”</span>
                Crypto
              </div>
              <div class="module-desc">å¯†ç å­¦åŸè¯­</div>
              <ul class="module-features">
                <li>SHA256 å“ˆå¸Œ</li>
                <li>RIPEMD160 å“ˆå¸Œ</li>
                <li>PBKDF2 å¯†é’¥æ´¾ç”Ÿ</li>
                <li>Scrypt ç®—æ³•</li>
                <li>éšæœºå­—èŠ‚ç”Ÿæˆ</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- äº¤æ˜“å±‚ -->
        <div class="layer">
          <div class="layer-title">äº¤æ˜“å±‚ (Transaction Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ’¸</span>
                Transaction
              </div>
              <div class="module-desc">äº¤æ˜“å¯¹è±¡å’Œåºåˆ—åŒ–</div>
              <ul class="module-features">
                <li>äº¤æ˜“æ„å»º</li>
                <li>RLP ç¼–ç /è§£ç </li>
                <li>EIP-1559 æ”¯æŒ</li>
                <li>EIP-2930 è®¿é—®åˆ—è¡¨</li>
                <li>ç­¾åå’ŒéªŒè¯</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ“Š</span>
                TransactionResponse
              </div>
              <div class="module-desc">äº¤æ˜“å“åº”å’Œç­‰å¾…</div>
              <ul class="module-features">
                <li>äº¤æ˜“å“ˆå¸Œ</li>
                <li>ç­‰å¾…ç¡®è®¤</li>
                <li>åŒºå—ä¿¡æ¯</li>
                <li>Gas ä½¿ç”¨</li>
                <li>äº‹ä»¶æ—¥å¿—</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ“</span>
                TransactionReceipt
              </div>
              <div class="module-desc">äº¤æ˜“å›æ‰§</div>
              <ul class="module-features">
                <li>æ‰§è¡ŒçŠ¶æ€</li>
                <li>Gas æ¶ˆè€—</li>
                <li>äº‹ä»¶æ—¥å¿—</li>
                <li>åˆçº¦åœ°å€</li>
                <li>åŒºå—ç¡®è®¤</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ç¼–ç å±‚ -->
        <div class="layer">
          <div class="layer-title">ç¼–ç å±‚ (Encoding Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”¤</span>
                RLP
              </div>
              <div class="module-desc">é€’å½’é•¿åº¦å‰ç¼€ç¼–ç </div>
              <ul class="module-features">
                <li>ç¼–ç æ•°æ®ç»“æ„</li>
                <li>è§£ç  RLP</li>
                <li>äº¤æ˜“ç¼–ç </li>
                <li>æ”¶æ®ç¼–ç </li>
                <li>åŒºå—ç¼–ç </li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ·ï¸</span>
                Base58/Base64
              </div>
              <div class="module-desc">åŸºç¡€ç¼–ç æ–¹æ¡ˆ</div>
              <ul class="module-features">
                <li>Base58 ç¼–è§£ç </li>
                <li>Base64 ç¼–è§£ç </li>
                <li>Hex è½¬æ¢</li>
                <li>å­—èŠ‚æ•°ç»„å¤„ç†</li>
                <li>æ ¡éªŒå’ŒéªŒè¯</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ¯</span>
                Typed Data
              </div>
              <div class="module-desc">EIP-712 ç±»å‹åŒ–æ•°æ®</div>
              <ul class="module-features">
                <li>ç»“æ„åŒ–æ•°æ®ç­¾å</li>
                <li>åŸŸåˆ†éš”ç¬¦</li>
                <li>ç±»å‹å“ˆå¸Œ</li>
                <li>æ¶ˆæ¯ç¼–ç </li>
                <li>ç­¾åéªŒè¯</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ç½‘ç»œå±‚ -->
        <div class="layer">
          <div class="layer-title">ç½‘ç»œå±‚ (Network Layer)</div>
          <div class="modules-grid">
            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸŒ</span>
                Network
              </div>
              <div class="module-desc">ç½‘ç»œé…ç½®å’Œé“¾ä¿¡æ¯</div>
              <ul class="module-features">
                <li>é“¾ ID</li>
                <li>ç½‘ç»œåç§°</li>
                <li>ENS åœ°å€</li>
                <li>é¢„å®šä¹‰ç½‘ç»œ</li>
                <li>è‡ªå®šä¹‰ç½‘ç»œ</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ“¡</span>
                Events
              </div>
              <div class="module-desc">äº‹ä»¶ç›‘å¬å’Œè¿‡æ»¤</div>
              <ul class="module-features">
                <li>äº‹ä»¶ç›‘å¬å™¨</li>
                <li>æ—¥å¿—è¿‡æ»¤</li>
                <li>ä¸»é¢˜ç´¢å¼•</li>
                <li>åŒºå—èŒƒå›´æŸ¥è¯¢</li>
                <li>å®æ—¶æ›´æ–°</li>
              </ul>
            </div>

            <div class="module-card" onclick="toggleActive(this)">
              <div class="module-title">
                <span class="module-icon">ğŸ”</span>
                ENS
              </div>
              <div class="module-desc">ä»¥å¤ªåŠåŸŸåæœåŠ¡</div>
              <ul class="module-features">
                <li>åŸŸåè§£æ</li>
                <li>åå‘è§£æ</li>
                <li>å†…å®¹å“ˆå¸Œ</li>
                <li>æ–‡æœ¬è®°å½•</li>
                <li>å¤´åƒè§£æ</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- æ•°æ®æµè¯´æ˜ -->
        <div class="connections">
          <h3>ğŸ“Š å…¸å‹æ•°æ®æµ</h3>
          <div class="connection-flow">
            <div class="flow-item">åº”ç”¨å±‚</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">Contract/Wallet</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">Signer</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">Provider</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">ä»¥å¤ªåŠèŠ‚ç‚¹</div>
          </div>
          <div class="connection-flow">
            <div class="flow-item">ç”¨æˆ·è¾“å…¥</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">ABI ç¼–ç </div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">äº¤æ˜“æ„å»º</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">ç­¾å</div>
            <div class="flow-arrow">â†’</div>
            <div class="flow-item">å¹¿æ’­</div>
          </div>
        </div>

        <!-- å›¾ä¾‹è¯´æ˜ -->
        <div class="legend">
          <h4>ğŸ“– æ¨¡å—è¯´æ˜</h4>
          <div class="legend-items">
            <div class="legend-item">
              <div
                class="legend-icon"
                style="background: linear-gradient(135deg, #667eea, #764ba2)"
              ></div>
              <span>æ ¸å¿ƒæ¨¡å— - å¿…éœ€ç»„ä»¶</span>
            </div>
            <div class="legend-item">
              <div
                class="legend-icon"
                style="background: linear-gradient(135deg, #f093fb, #f5576c)"
              ></div>
              <span>æ‰©å±•æ¨¡å— - å¢å¼ºåŠŸèƒ½</span>
            </div>
            <div class="legend-item">
              <div
                class="legend-icon"
                style="background: linear-gradient(135deg, #4facfe, #00f2fe)"
              ></div>
              <span>å·¥å…·æ¨¡å— - è¾…åŠ©åŠŸèƒ½</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function toggleActive(element) {
        element.classList.toggle('active');
      }

      // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
      document.addEventListener('DOMContentLoaded', function () {
        const cards = document.querySelectorAll('.module-card');
        cards.forEach((card, index) => {
          card.style.opacity = '0';
          card.style.transform = 'translateY(20px)';
          setTimeout(() => {
            card.style.transition = 'all 0.5s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
          }, index * 50);
        });
      });
    </script>
  </body>
</html>
